"use strict";(self["webpackChunkrasandbox"]=self["webpackChunkrasandbox"]||[]).push([[617],{617:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:[t.themeClass,{"hover-effect":t.enableHover},"game-box"]},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-one-third"},[e("figure",{staticClass:"image is-128x128"},[e("img",{attrs:{src:t.imageUrl}})])]),e("div",{staticClass:"column is-two-third game-info"},[e("p",{staticClass:"game-title"},[t._v(t._s(t.Game.name))]),e("p",{staticClass:"game-company"},[t._v(t._s(t.Game.company))]),t.isAllowedToFavAndWish?e("button",{staticClass:"better-steam-button--wishlist",on:{click:t.handleWishlist}},[t.wishlistable?e("span",{staticClass:"icon"},[e("i",{class:[t.wishGameClass,"fa-bookmark","fa-xl"]})]):t._e()]):t._e(),e("span",{staticClass:"game-price"},[t._v(t._s(`${t.Game.price.toFixed(2)}â‚¬`)+" ")]),e("p",{staticClass:"game-date"},[t._v(t._s(t.formattedDate))])])]),t.isAllowedToFavAndWish?e("button",{staticClass:"better-steam-button--favorite",on:{click:t.handleFavorite}},[t.favoriteable?e("span",{staticClass:"icon"},[e("i",{class:[t.favGameClass,"fa-star","fa-xl"]})]):t._e()]):t._e()])},a=[],o=s(556),n=s(381),r=n.w3.extend({name:"GameBox",props:{Game:{type:Object,default:void 0},enableHover:{type:Boolean,default:!0},favoriteable:{type:Boolean,default:!0},wishlistable:{type:Boolean,default:!0}},data:function(){return{isFavorited:!1,formattedDate:"",isWishlisted:!1,isAllowedToFavAndWish:!1,imageUrl:"",wishlist:[]}},methods:{handleFavorite:function(){var t=n.LJ.get("token");void 0!==t&&(this.isFavorited?this.$emit("removeFavourite",this.Game.id,t):this.$emit("addFavourite",this.Game.id,t),this.isFavorited=!this.isFavorited)},formatDate:function(t){var e=t.split("-");return 3!==e.length?t:"".concat(e[2],".").concat(e[1],".").concat(e[0])},getRandomPreview:function(){return(0,o.mG)(this,void 0,void 0,(function(){var t,e;return(0,o.Jh)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("https://localhost:7091/api/image/GetRandomPreview")];case 1:if(t=s.sent(),!t.ok)throw new Error("Netzwerkantwort war nicht ok "+t.statusText);return[4,t.blob()];case 2:return e=s.sent(),this.imageUrl=URL.createObjectURL(e),[3,4];case 3:return s.sent(),[2];case 4:return[2]}}))}))},handleWishlist:function(){var t=n.LJ.get("token");void 0!==t&&(this.isWishlisted?this.$emit("removeWishlist",this.Game.id,t):this.$emit("addWishlist",this.Game.id,t),this.isWishlisted=!this.isWishlisted)},fetchWishlist:function(){this.wishlist=this.$store.getters.getWishlist;for(var t=0,e=this.wishlist;t<e.length;t++){var s=e[t];s.gameId===this.Game.id&&(this.isWishlisted=!0)}}},computed:{themeClass:function(){return this.$store.getters.getTheme},favGameClass:function(){return this.isFavorited?"fa-solid":"fa-regular"},wishGameClass:function(){return this.isWishlisted?"fa-solid":"fa-regular"}},mounted:function(){this.isAllowedToFavAndWish=!!n.LJ.get("token"),this.formattedDate=this.formatDate(this.Game.releaseDate),this.getRandomPreview()},created:function(){this.fetchWishlist()}}),l=r,h=s(917),c=(0,h.Z)(l,i,a,!1,null,"19260c80",null),d=c.exports}}]);
//# sourceMappingURL=617.a4111da7.js.map