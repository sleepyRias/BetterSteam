{"version":3,"file":"js/617.a4111da7.js","mappings":"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","sources":["webpack://rasandbox/./src/components/GameBox.vue?5963","webpack://rasandbox/./src/components/GameBox.vue?f3ab","webpack://rasandbox/./src/components/GameBox.vue?25c1","webpack://rasandbox/./src/components/GameBox.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:[_vm.themeClass, { 'hover-effect': _vm.enableHover }, 'game-box']},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-third\"},[_c('figure',{staticClass:\"image is-128x128\"},[_c('img',{attrs:{\"src\":_vm.imageUrl}})])]),_c('div',{staticClass:\"column is-two-third game-info\"},[_c('p',{staticClass:\"game-title\"},[_vm._v(_vm._s(_vm.Game.name))]),_c('p',{staticClass:\"game-company\"},[_vm._v(_vm._s(_vm.Game.company))]),(_vm.isAllowedToFavAndWish)?_c('button',{staticClass:\"better-steam-button--wishlist\",on:{\"click\":_vm.handleWishlist}},[(_vm.wishlistable)?_c('span',{staticClass:\"icon\"},[_c('i',{class:[_vm.wishGameClass, 'fa-bookmark', 'fa-xl']})]):_vm._e()]):_vm._e(),_c('span',{staticClass:\"game-price\"},[_vm._v(_vm._s(`${_vm.Game.price.toFixed(2)}â‚¬`)+\" \")]),_c('p',{staticClass:\"game-date\"},[_vm._v(_vm._s(_vm.formattedDate))])])]),(_vm.isAllowedToFavAndWish)?_c('button',{staticClass:\"better-steam-button--favorite\",on:{\"click\":_vm.handleFavorite}},[(_vm.favoriteable)?_c('span',{staticClass:\"icon\"},[_c('i',{class:[_vm.favGameClass, 'fa-star', 'fa-xl']})]):_vm._e()]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport { Vue, Cookies, WishlistResponse } from \"./\";\r\nexport default Vue.extend({\r\n  name: \"GameBox\",\r\n  props: {\r\n    Game: { type: Object, default: undefined },\r\n    enableHover: { type: Boolean, default: true },\r\n    favoriteable: { type: Boolean, default: true },\r\n    wishlistable: { type: Boolean, default: true },\r\n  },\r\n  data() {\r\n    return {\r\n      isFavorited: false,\r\n      formattedDate: \"\",\r\n      isWishlisted: false,\r\n      isAllowedToFavAndWish: false,\r\n      imageUrl: \"\",\r\n      wishlist: [] as WishlistResponse[],\r\n    };\r\n  },\r\n  methods: {\r\n    handleFavorite() {\r\n      const token = Cookies.get(\"token\");\r\n      if (token !== undefined) {\r\n        if (this.isFavorited) {\r\n          this.$emit(\"removeFavourite\", this.Game.id, token);\r\n        } else {\r\n          this.$emit(\"addFavourite\", this.Game.id, token);\r\n        }\r\n        this.isFavorited = !this.isFavorited;\r\n      }\r\n    },\r\n    formatDate(dateString: string) {\r\n      const parts = dateString.split(\"-\");\r\n      if (parts.length !== 3) return dateString;\r\n      return `${parts[2]}.${parts[1]}.${parts[0]}`;\r\n    },\r\n    async getRandomPreview() {\r\n      try {\r\n        const response = await fetch(\r\n          \"https://localhost:7091/api/image/GetRandomPreview\"\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\r\n            \"Netzwerkantwort war nicht ok \" + response.statusText\r\n          );\r\n        }\r\n        const blob = await response.blob();\r\n        this.imageUrl = URL.createObjectURL(blob);\r\n      } catch (error) {\r\n        return;\r\n      }\r\n    },\r\n    handleWishlist() {\r\n      const token = Cookies.get(\"token\");\r\n      if (token !== undefined) {\r\n        if (this.isWishlisted) {\r\n          this.$emit(\"removeWishlist\", this.Game.id, token);\r\n        } else {\r\n          this.$emit(\"addWishlist\", this.Game.id, token);\r\n        }\r\n        this.isWishlisted = !this.isWishlisted;\r\n      }\r\n    },\r\n    fetchWishlist() {\r\n      this.wishlist = this.$store.getters.getWishlist;\r\n      for (var gameID of this.wishlist) {\r\n        if (gameID.gameId === this.Game.id) {\r\n          this.isWishlisted = true;\r\n        }\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    themeClass(): string {\r\n      return this.$store.getters.getTheme;\r\n    },\r\n    favGameClass(): string {\r\n      return this.isFavorited ? \"fa-solid\" : \"fa-regular\";\r\n    },\r\n    wishGameClass(): string {\r\n      return this.isWishlisted ? \"fa-solid\" : \"fa-regular\";\r\n    },\r\n  },\r\n  mounted() {\r\n    this.isAllowedToFavAndWish = Cookies.get(\"token\") ? true : false;\r\n    this.formattedDate = this.formatDate(this.Game.releaseDate);\r\n    this.getRandomPreview();\r\n  },\r\n  created() {\r\n    this.fetchWishlist();\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GameBox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GameBox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameBox.vue?vue&type=template&id=19260c80&scoped=true&\"\nimport script from \"./GameBox.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameBox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameBox.vue?vue&type=style&index=0&id=19260c80&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19260c80\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","class","themeClass","enableHover","staticClass","attrs","imageUrl","_v","_s","Game","name","company","on","handleWishlist","wishGameClass","_e","price","toFixed","formattedDate","handleFavorite","favGameClass","staticRenderFns","extend","props","type","Object","default","undefined","Boolean","favoriteable","wishlistable","data","isFavorited","isWishlisted","isAllowedToFavAndWish","wishlist","methods","token","get","$emit","id","formatDate","dateString","parts","split","length","getRandomPreview","fetch","response","ok","Error","statusText","blob","URL","createObjectURL","fetchWishlist","$store","getters","getWishlist","gameID","gameId","computed","getTheme","mounted","releaseDate","created","component"],"sourceRoot":""}